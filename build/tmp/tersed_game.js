function N(){ctx.clearRect(0,0,w,h),ctx.fillStyle="#94DEC3",ctx.fillRect(0,0,w,h),ctx.font="bold 40px Tahoma",ctx.fillStyle="#5D4E51",ctx.textAlign="center",ctx.fillText("Click to start music",w/2,h/2),ctx.fillText("play sound effect",w/2,h/2+50),ctx.fillText("and add to saved clicks",w/2,h/2+100),ctx.fillText("(check console logs)",w/2,h/2+150),ctx.fillText("click here to toggle fullscreen",w/2,h/2-580),ctx.fillText("click here to toggle mute",w/2,h/2+580),ctx.fillText("music toggle state is loaded and saved",w/2,h/2+630),requestAnimationFrame(N)}function P(e){e=Q(e),mouseX=e.x,mouseY=e.y}function R(e){e=Q(e),mouseX=e.x,mouseY=e.y,console.log("mouseX: "+Math.round(mouseX),"mouseY: "+Math.round(mouseY)),null==music&&(music=zzfxX=new(window.AudioContext||webkitAudioContext),e=zzfxM([[.5,0,4e3,,,.03,,1.25,,,,,.02,6.8,-.3],[.5,0,8e3,,,.03,2,1.25,,,,,.02,6.8,-.3],[.5,0,80,,.08,.5,3]],[[[,,1,,,,,,1,,1,,,,,,1,,,,,,,,1,,1,,,,,,,,1,,,,,,1,,1,,,,,,1,,,,,,,,1,,1,,,,,,,,],[1,,,,,,1,,,,,,1,,,,,,,,1,,,,,,,,,,1,,,,,,,,1,,,,,,1,,,,,,,,1,,,,,,,,,,1,,,,],[2,,10,,,,,,10,,17,,,,,,,,10,,,,,,10,,17,,,,,,,,12,,,,,,12,,19,,,,,,,,12,,,,,,12,,19,,,,,,,,],[2,,10,,,,10,,,,,,10,,,,10,,,,,,,,,,10,,,,10,,,,10,,,,10,,,,,,10,,,,10,,,,,,,,,,10,,,,10,,,,],[2,,14,,,,14,,,,,,14,,,,14,,,,,,,,,,14,,,,14,,,,17,,,,17,,,,,,17,,,,17,,,,,,,,,,17,,,,17,,,,],[2,,21,,,,21,,,,,,21,,,,21,,,,,,,,,,21,,,,21,,,,19,,,,19,,,,,,19,,,,19,,,,,,,,,,19,,,,19,,,,]],[[,,1,,,,,,1,,1,,,,,,1,,,,,,,,1,,1,,,,,,,,1,,,,,,1,,1,,,,,,1,,,,,,,,1,,1,,,,,,,,],[1,,,,,,1,,,,,,1,,,,,,,,1,,,,,,,,,,1,,,,,,,,1,,,,,,1,,,,,,,,1,,,,,,,,,,1,,,,],[2,,5,,,,,,5,,12,,,,,,,,5,,,,,,5,,12,,,,,,,,10,,,,,,10,,17,,,,,,,,10,,,,,,10,,17,,,,,,,,],[2,,9,,,,9,,,,,,9,,,,9,,,,,,,,,,9,,,,9,,,,9,,,,9,,,,,,9,,,,9,,,,,,,,,,9,,,,9,,,,],[2,,15,,,,15,,,,,,15,,,,15,,,,,,,,,,15,,,,15,,,,14,,,,14,,,,,,14,,,,14,,,,,,,,,,14,,,,14,,,,],[2,,21,,,,21,,,,,,21,,,,21,,,,,,,,,,21,,,,21,,,,17,,,,17,,,,,,17,,,,17,,,,,,,,,,17,,,,17,,,,]],[[,,1,,,,,,1,,1,,,,,,1,,,,,,,,1,,1,,,,,,,,1,,,,,,1,,1,,,,,,1,,,,,,,,1,,1,,,,,,,,],[1,,,,,,1,,,,,,1,,,,,,,,1,,,,,,,,,,1,,,,,,,,1,,,,,,1,,,,,,,,1,,,,,,,,,,1,,,,],[2,,10,,,,,,10,,17,,,,,,,,10,,,,,,10,,17,,,,,,,,3,,,,,,3,,7,,,,,,,,3,,,,,,3,,7,,,,,,,,],[2,,8,,,,8,,,,,,8,,,,8,,,,,,,,,,8,,,,8,,,,10,,,,10,,,,,,10,,,,10,,,,,,,,,,10,,,,10,,,,],[2,,14,,,,14,,,,,,14,,,,14,,,,,,,,,,14,,,,14,,,,14,,,,14,,,,,,14,,,,14,,,,,,,,,,14,,,,14,,,,],[2,,29,,,,29,,,,,,29,,,,29,,,,,,,,,,29,,,,29,,,,29,,,,19,,,,,,19,,,,19,,,,,,,,,,19,,,,19,,,,]],[[,,1,,,,,,1,,1,,,,,,1,,,,,,,,1,,1,,,,,,,,1,,,,,,1,,1,,,,,,1,,,,,,,,1,,1,,,,,,,,],[1,,,,,,1,,,,,,1,,,,,,,,1,,,,,,,,,,1,,,,,,,,1,,,,,,1,,,,,,,,1,,,,,,,,,,1,,,,],[2,,12,,,,,,12,,19,,,,,,,,12,,,,,,12,,19,,,,,,,,5,,,,,,5,,12,,,,,,,,5,,,,,,5,,12,,,,,,,,],[2,,10,,,,10,,,,,,10,,,,10,,,,,,,,,,10,,,,10,,,,9,,,,9,,,,,,9,,,,9,,,,,,,,,,9,,,,9,,,,],[2,,15,,,,15,,,,,,15,,,,15,,,,,,,,,,15,,,,15,,,,17,,,,17,,,,,,17,,,,17,,,,,,,,,,17,,,,17,,,,],[2,,19,,,,19,,,,,,19,,,,19,,,,,,,,,,19,,,,19,,,,19,,,,19,,,,,,19,,,,19,,,,,,,,,,19,,,,19,,,,]],[[,,1,,,,,,1,,1,,,,,,1,,,,,,,,1,,1,,,,,,,,1,,,,,,1,,1,,,,,,1,,,,,,,,1,,1,,,,,,,,],[1,,,,,,1,,,,,,1,,,,,,,,1,,,,,,,,,,1,,,,,,,,1,,,,,,1,,,,,,,,1,,,,,,,,,,1,,,,],[2,,10,,,,,,10,,17,,,,,,,,10,,,,,,10,,17,,,,,,,,12,,,,,,12,,19,,,,,,,,12,,,,,,12,,19,,,,,,,,],[2,,10,,,,,,,,,,,,,,,,,,,,,,,,10,,,,,,,,,,,,,,,,,,10,,,,10,,,,,,,,,,10,,,,10,,,,],[2,,14,,,,,,,,,,,,,,,,,,,,,,,,14,,,,,,,,,,,,,,,,,,17,,,,17,,,,,,,,,,17,,,,17,,,,],[2,,21,,,,,,,,,,,,,,,,,,,,,,,,21,,,,,,,,,,,,,,,,,,19,,,,19,,,,,,,,,,19,,,,19,,,,],[2,,,,,,,,,,,,,,,,,,,,,,,,,,33,,31,,29,,,,31,,,,24,,,,,,,,,,,,,,,,,,,,33,,31,,29,,,,]],[[,,1,,,,,,1,,1,,,,,,1,,,,,,,,1,,1,,,,,,,,1,,,,,,1,,1,,,,,,1,,,,,,,,1,,1,,,,,,,,],[1,,,,,,1,,,,,,1,,,,,,,,1,,,,,,,,,,1,,,,,,,,1,,,,,,1,,,,,,,,1,,,,,,,,,,1,,,,],[2,,5,,,,,,5,,12,,,,,,,,5,,,,,,5,,12,,,,,,,,10,,,,,,10,,17,,,,,,,,10,,,,,,10,,17,,,,,,,,],[2,,9,,,,,,,,,,,,,,9,,,,,,,,,,,,,,,,,,9,,,,9,,,,,,9,,,,9,,,,,,,,,,9,,,,,,,,],[2,,15,,,,,,,,,,,,,,15,,,,,,,,,,,,,,,,,,14,,,,14,,,,,,14,,,,14,,,,,,,,,,14,,,,,,,,],[2,,21,,,,,,,,,,,,,,21,,,,,,,,,,,,,,,,,,17,,,,17,,,,,,17,,,,17,,,,,,,,,,17,,,,,,,,],[2,,27,,,,24,,,,,,,,,,,,,,,,,,,,33,,32,,31,,33,,29,,,,,,,,,,,,,,,,,,,,26,,,,27,,,,29,,,,]],[[,,1,,,,,,1,,1,,,,,,1,,,,,,,,1,,1,,,,,,,,1,,,,,,1,,1,,,,,,1,,,,,,,,1,,1,,,,,,,,],[1,,,,,,1,,,,,,1,,,,,,,,1,,,,,,,,,,1,,,,,,,,1,,,,,,1,,,,,,,,1,,,,,,,,,,1,,,,],[2,,10,,,,,,10,,17,,,,,,,,10,,,,,,10,,17,,,,,,,,3,,,,,,3,,7,,,,,,,,3,,,,,,3,,7,,,,,,,,],[2,,8,,,,,,,,,,,,,,8,,,,,,,,,,8,,,,8,,,,10,,,,,,,,,,,,,,,,,,,,,,,,10,,,,10,,,,],[2,,14,,,,,,,,,,,,,,14,,,,,,,,,,14,,,,14,,,,14,,,,,,,,,,,,,,,,,,,,,,,,14,,,,14,,,,],[2,,29,,,,,,,,,,,,,,29,,,,,,,,,,29,,,,29,,,,29,,,,,,,,,,,,,,,,,,,,,,,,19,,,,19,,,,],[2,,29,,,,26,,,,,,,,,,,,,,,,,,,,29,,27,,26,,,,27,,,,24,,,,,,,,,,,,,,,,,,,,24,,26,,27,,,,]],[[,,1,,,,,,1,,1,,,,,,1,,,,,,,,1,,1,,,,,,,,1,,,,,,1,,1,,,,,,1,,,,,,,,1,,1,,,,,,,,],[1,,,,,,1,,,,,,1,,,,,,,,1,,,,,,,,,,1,,,,,,,,1,,,,,,1,,,,,,,,1,,,,,,,,,,1,,,,],[2,,12,,,,,,12,,19,,,,,,,,12,,,,,,12,,19,,,,,,,,5,,,,,,5,,12,,,,,,,,5,,,,,,5,,12,,,,,,,,],[2,,10,,,,,,,,,,,,,,,,,,,,,,,,10,,,,10,,,,9,,,,,,,,,,9,,,,9,,,,,,,,,,9,,,,9,,,,],[2,,15,,,,,,,,,,,,,,,,,,,,,,,,15,,,,15,,,,17,,,,,,,,,,17,,,,17,,,,,,,,,,17,,,,17,,,,],[2,,19,,,,,,,,,,,,,,,,,,,,,,,,19,,,,19,,,,19,,,,,,,,,,19,,,,19,,,,,,,,,,19,,,,19,,,,],[2,,26,,,,24,,,,,,,,,,,,,,,,,,,,27,,,,27,,,,26,,,,24,,,,22,,,,24,,,,22,,,,,,,,21,,,,,,,,]]],[4,5,6,7,0,1,2,3],120),zzfxP(...e).loop=!0,1==storageData.muted&&(zzfxV=musicVolume=0,music.suspend())),null!=music&&zzfx(...[.2,,56,.04,.03,.01,,1.39,96.9,.2,-114,.16,,,,.1,,.73,.02,.08]),storageData.g+=1,localStorage.setItem(gameSaveDataName,JSON.stringify(storageData)),mouseY<h/2?document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen():(0==storageData.muted?(zzfxV=musicVolume=0,storageData.muted=!0,music.suspend()):(zzfxV=musicVolume=.2,storageData.muted=!1,music.resume()),localStorage.setItem(gameSaveDataName,JSON.stringify(storageData)))}function S(e){e=Q(e),mouseX=e.x,mouseY=e.y}function Q(e){var t=c.getBoundingClientRect();return{x:(e.clientX-t.left)/(t.right-t.left)*w,y:(e.clientY-t.top)/(t.bottom-t.top)*h}}c=document.getElementById("v"),ctx=c.getContext("2d"),w=v.width,h=v.height,N(),this.onmousedown=P,this.onmouseup=R,this.onmousemove=S,this.addEventListener("touchstart",(function(e){e.preventDefault(),1<e.touches.length||P(e.changedTouches[0])}),{passive:!1}),this.addEventListener("touchend",(function(e){e.preventDefault(),1<e.touches.length||R(e.changedTouches[0])}),{passive:!1}),this.addEventListener("touchmove",(function(e){e.preventDefault(),1<e.touches.length||S(e.changedTouches[0])}),{passive:!1}),gameSaveDataName="gamePrefix_storageData",storageData=JSON.parse(localStorage.getItem(gameSaveDataName))||{g:0,muted:!1},console.log(storageData),this.addEventListener("focus",(function(){null!=music&&0==storageData.muted&&music.resume()}),!1),this.addEventListener("blur",(function(){null!=music&&music.suspend()}),!1),music=null,musicVolume=.2,zzfx=(...e)=>zzfxP(zzfxG(...e)),zzfxP=(...e)=>{let t=zzfxX.createBufferSource(),a=zzfxX.createBuffer(e.length,e[0].length,zzfxR);return e.map(((e,t)=>a.getChannelData(t).set(e))),t.buffer=a,t.connect(zzfxX.destination),t.start(),t},zzfxG=(e=1,t=.05,a=220,n=0,o=0,s=.1,u=0,l=1,c=0,i=0,f=0,m=0,r=0,x=0,z=0,h=0,g=0,d=1,v=0,D=0)=>{let R=2*Math.PI,M=c*=500*R/zzfxR**2,p=(0<z?1:-1)*R/4;t=a*=(1+2*t*Math.random()-t)*R/zzfxR;let w,S,T=[],y=0,E=0,N=0,V=1,X=0,P=0,b=0;for(n=99+zzfxR*n,v*=zzfxR,o*=zzfxR,s*=zzfxR,g*=zzfxR,i*=500*R/zzfxR**3,z*=R/zzfxR,f*=R/zzfxR,m*=zzfxR,r=zzfxR*r|0,S=n+v+o+s+g|0;N<S;T[N++]=b)++P%(100*h|0)||(b=u?1<u?2<u?3<u?Math.sin((y%R)**3):Math.max(Math.min(Math.tan(y),1),-1):1-(2*y/R%2+2)%2:1-4*Math.abs(Math.round(y/R)-y/R):Math.sin(y),b=(r?1-D+D*Math.sin(2*Math.PI*N/r):1)*(0<b?1:-1)*Math.abs(b)**l*e*zzfxV*(N<n?N/n:N<n+v?1-(N-n)/v*(1-d):N<n+v+o?d:N<S-g?(S-N-g)/s*d:0),b=g?b/2+(g>N?0:(N<S-g?1:(S-N)/g)*T[N-g|0]/2):b),w=(a+=c+=i)*Math.sin(E*z-p),y+=w-w*x*(1-1e9*(Math.sin(N)+1)%2),E+=w-w*x*(1-1e9*(Math.sin(N)**2+1)%2),V&&++V>m&&(a+=f,t+=f,V=0),!r||++X%r||(a=t,c=M,V=V||1);return T},zzfxV=musicVolume,zzfxR=44100,zzfxM=(e,t,a,n=125)=>{let o,s,u,l,c,i,f,m,r,x,z,h,g,d,v=0,D=[],R=[],M=[],p=0,w=0,S=1,T={},y=zzfxR/n*60>>2;for(;S;p++)D=[S=m=h=0],a.map(((n,E)=>{for(f=t[n][p]||[0,0,0],S|=!!t[n][p],d=h+(t[n][0].length-2-!m)*y,g=E==a.length-1,s=2,l=h;s<f.length+g;m=++s){for(c=f[s],r=s==f.length+g-1&&g||x!=(f[0]||0)|c|0,u=0;u<y&&m;u++>y-99&&r?z+=(1>z)/99:0)i=(1-z)*D[v++]/2||0,R[l]=(R[l]||0)-i*w+i,M[l]=(M[l++]||0)+i*w+i;c&&(z=c%1,w=f[1]||0,c|=0)&&(D=T[[x=f[v=0]||0,c]]=T[[x,c]]||(o=[...e[x]],o[2]*=2**((c-12)/12),0<c?zzfxG(...o):[]))}h=d}));return[R,M]};