c=document.getElementById("v");ctx=c.getContext("2d");w=v.width;h=v.height;
function N(){ctx.clearRect(0,0,w,h);ctx.fillStyle="#94DEC3";ctx.fillRect(0,0,w,h);ctx.font="bold 40px Tahoma";ctx.fillStyle="#5D4E51";ctx.textAlign="center";ctx.fillText("Click to start music",w/2,h/2);ctx.fillText("play sound effect",w/2,h/2+50);ctx.fillText("and add to saved clicks",w/2,h/2+100);ctx.fillText("(check console logs)",w/2,h/2+150);ctx.fillText("click here to toggle fullscreen",w/2,h/2-580);ctx.fillText("click here to toggle mute",w/2,h/2+580);ctx.fillText("music toggle state is loaded and saved",
w/2,h/2+630);requestAnimationFrame(N)}N();function P(a){a=Q(a);mouseX=a.x;mouseY=a.y}
function R(a){a=Q(a);mouseX=a.x;mouseY=a.y;console.log("mouseX: "+Math.round(mouseX),"mouseY: "+Math.round(mouseY));null==music&&(music=zzfxX=new (window.AudioContext||webkitAudioContext),a=zzfxM(...[[[.5,0,4E3,,,.03,,1.25,,,,,.02,6.8,-.3],[.5,0,8E3,,,.03,2,1.25,,,,,.02,6.8,-.3],[.5,0,80,,.08,.5,3]],[[[,,1,,,,,,1,,1,,,,,,1,,,,,,,,1,,1,,,,,,,,1,,,,,,1,,1,,,,,,1,,,,,,,,1,,1,,,,,,,,],[1,,,,,,1,,,,,,1,,,,,,,,1,,,,,,,,,,1,,,,,,,,1,,,,,,1,,,,,,,,1,,,,,,,,,,1,,,,],[2,,10,,,,,,10,,17,,,,,,,,10,,,,,,10,,17,
,,,,,,,12,,,,,,12,,19,,,,,,,,12,,,,,,12,,19,,,,,,,,],[2,,10,,,,10,,,,,,10,,,,10,,,,,,,,,,10,,,,10,,,,10,,,,10,,,,,,10,,,,10,,,,,,,,,,10,,,,10,,,,],[2,,14,,,,14,,,,,,14,,,,14,,,,,,,,,,14,,,,14,,,,17,,,,17,,,,,,17,,,,17,,,,,,,,,,17,,,,17,,,,],[2,,21,,,,21,,,,,,21,,,,21,,,,,,,,,,21,,,,21,,,,19,,,,19,,,,,,19,,,,19,,,,,,,,,,19,,,,19,,,,]],[[,,1,,,,,,1,,1,,,,,,1,,,,,,,,1,,1,,,,,,,,1,,,,,,1,,1,,,,,,1,,,,,,,,1,,1,,,,,,,,],[1,,,,,,1,,,,,,1,,,,,,,,1,,,,,,,,,,1,,,,,,,,1,,,,,,1,,,,,,,,1,,,,,,,,,,1,,,,],[2,,5,
,,,,,5,,12,,,,,,,,5,,,,,,5,,12,,,,,,,,10,,,,,,10,,17,,,,,,,,10,,,,,,10,,17,,,,,,,,],[2,,9,,,,9,,,,,,9,,,,9,,,,,,,,,,9,,,,9,,,,9,,,,9,,,,,,9,,,,9,,,,,,,,,,9,,,,9,,,,],[2,,15,,,,15,,,,,,15,,,,15,,,,,,,,,,15,,,,15,,,,14,,,,14,,,,,,14,,,,14,,,,,,,,,,14,,,,14,,,,],[2,,21,,,,21,,,,,,21,,,,21,,,,,,,,,,21,,,,21,,,,17,,,,17,,,,,,17,,,,17,,,,,,,,,,17,,,,17,,,,]],[[,,1,,,,,,1,,1,,,,,,1,,,,,,,,1,,1,,,,,,,,1,,,,,,1,,1,,,,,,1,,,,,,,,1,,1,,,,,,,,],[1,,,,,,1,,,,,,1,,,,,,,,1,,,,,,,,,,1,,,,,,,,1,,,,,,1,,,,,,,,1,,,
,,,,,,,1,,,,],[2,,10,,,,,,10,,17,,,,,,,,10,,,,,,10,,17,,,,,,,,3,,,,,,3,,7,,,,,,,,3,,,,,,3,,7,,,,,,,,],[2,,8,,,,8,,,,,,8,,,,8,,,,,,,,,,8,,,,8,,,,10,,,,10,,,,,,10,,,,10,,,,,,,,,,10,,,,10,,,,],[2,,14,,,,14,,,,,,14,,,,14,,,,,,,,,,14,,,,14,,,,14,,,,14,,,,,,14,,,,14,,,,,,,,,,14,,,,14,,,,],[2,,29,,,,29,,,,,,29,,,,29,,,,,,,,,,29,,,,29,,,,29,,,,19,,,,,,19,,,,19,,,,,,,,,,19,,,,19,,,,]],[[,,1,,,,,,1,,1,,,,,,1,,,,,,,,1,,1,,,,,,,,1,,,,,,1,,1,,,,,,1,,,,,,,,1,,1,,,,,,,,],[1,,,,,,1,,,,,,1,,,,,,,,1,,,,,,,,,,1,,,,
,,,,1,,,,,,1,,,,,,,,1,,,,,,,,,,1,,,,],[2,,12,,,,,,12,,19,,,,,,,,12,,,,,,12,,19,,,,,,,,5,,,,,,5,,12,,,,,,,,5,,,,,,5,,12,,,,,,,,],[2,,10,,,,10,,,,,,10,,,,10,,,,,,,,,,10,,,,10,,,,9,,,,9,,,,,,9,,,,9,,,,,,,,,,9,,,,9,,,,],[2,,15,,,,15,,,,,,15,,,,15,,,,,,,,,,15,,,,15,,,,17,,,,17,,,,,,17,,,,17,,,,,,,,,,17,,,,17,,,,],[2,,19,,,,19,,,,,,19,,,,19,,,,,,,,,,19,,,,19,,,,19,,,,19,,,,,,19,,,,19,,,,,,,,,,19,,,,19,,,,]],[[,,1,,,,,,1,,1,,,,,,1,,,,,,,,1,,1,,,,,,,,1,,,,,,1,,1,,,,,,1,,,,,,,,1,,1,,,,,,,,],[1,,,,,,1,,,,,
,1,,,,,,,,1,,,,,,,,,,1,,,,,,,,1,,,,,,1,,,,,,,,1,,,,,,,,,,1,,,,],[2,,10,,,,,,10,,17,,,,,,,,10,,,,,,10,,17,,,,,,,,12,,,,,,12,,19,,,,,,,,12,,,,,,12,,19,,,,,,,,],[2,,10,,,,,,,,,,,,,,,,,,,,,,,,10,,,,,,,,,,,,,,,,,,10,,,,10,,,,,,,,,,10,,,,10,,,,],[2,,14,,,,,,,,,,,,,,,,,,,,,,,,14,,,,,,,,,,,,,,,,,,17,,,,17,,,,,,,,,,17,,,,17,,,,],[2,,21,,,,,,,,,,,,,,,,,,,,,,,,21,,,,,,,,,,,,,,,,,,19,,,,19,,,,,,,,,,19,,,,19,,,,],[2,,,,,,,,,,,,,,,,,,,,,,,,,,33,,31,,29,,,,31,,,,24,,,,,,,,,,,,,,,,,,,,33,,31,,29,,,,]],[[,,1,,,,,
,1,,1,,,,,,1,,,,,,,,1,,1,,,,,,,,1,,,,,,1,,1,,,,,,1,,,,,,,,1,,1,,,,,,,,],[1,,,,,,1,,,,,,1,,,,,,,,1,,,,,,,,,,1,,,,,,,,1,,,,,,1,,,,,,,,1,,,,,,,,,,1,,,,],[2,,5,,,,,,5,,12,,,,,,,,5,,,,,,5,,12,,,,,,,,10,,,,,,10,,17,,,,,,,,10,,,,,,10,,17,,,,,,,,],[2,,9,,,,,,,,,,,,,,9,,,,,,,,,,,,,,,,,,9,,,,9,,,,,,9,,,,9,,,,,,,,,,9,,,,,,,,],[2,,15,,,,,,,,,,,,,,15,,,,,,,,,,,,,,,,,,14,,,,14,,,,,,14,,,,14,,,,,,,,,,14,,,,,,,,],[2,,21,,,,,,,,,,,,,,21,,,,,,,,,,,,,,,,,,17,,,,17,,,,,,17,,,,17,,,,,,,,,,17,,,,,,,,],[2,,27,,,,24,,,,
,,,,,,,,,,,,,,,,33,,32,,31,,33,,29,,,,,,,,,,,,,,,,,,,,26,,,,27,,,,29,,,,]],[[,,1,,,,,,1,,1,,,,,,1,,,,,,,,1,,1,,,,,,,,1,,,,,,1,,1,,,,,,1,,,,,,,,1,,1,,,,,,,,],[1,,,,,,1,,,,,,1,,,,,,,,1,,,,,,,,,,1,,,,,,,,1,,,,,,1,,,,,,,,1,,,,,,,,,,1,,,,],[2,,10,,,,,,10,,17,,,,,,,,10,,,,,,10,,17,,,,,,,,3,,,,,,3,,7,,,,,,,,3,,,,,,3,,7,,,,,,,,],[2,,8,,,,,,,,,,,,,,8,,,,,,,,,,8,,,,8,,,,10,,,,,,,,,,,,,,,,,,,,,,,,10,,,,10,,,,],[2,,14,,,,,,,,,,,,,,14,,,,,,,,,,14,,,,14,,,,14,,,,,,,,,,,,,,,,,,,,,,,,14,,,,14,,,,],[2,,29,,,,,,,,
,,,,,,29,,,,,,,,,,29,,,,29,,,,29,,,,,,,,,,,,,,,,,,,,,,,,19,,,,19,,,,],[2,,29,,,,26,,,,,,,,,,,,,,,,,,,,29,,27,,26,,,,27,,,,24,,,,,,,,,,,,,,,,,,,,24,,26,,27,,,,]],[[,,1,,,,,,1,,1,,,,,,1,,,,,,,,1,,1,,,,,,,,1,,,,,,1,,1,,,,,,1,,,,,,,,1,,1,,,,,,,,],[1,,,,,,1,,,,,,1,,,,,,,,1,,,,,,,,,,1,,,,,,,,1,,,,,,1,,,,,,,,1,,,,,,,,,,1,,,,],[2,,12,,,,,,12,,19,,,,,,,,12,,,,,,12,,19,,,,,,,,5,,,,,,5,,12,,,,,,,,5,,,,,,5,,12,,,,,,,,],[2,,10,,,,,,,,,,,,,,,,,,,,,,,,10,,,,10,,,,9,,,,,,,,,,9,,,,9,,,,,,,,,,9,,,,9,,,,],[2,,15,,,
,,,,,,,,,,,,,,,,,,,,,15,,,,15,,,,17,,,,,,,,,,17,,,,17,,,,,,,,,,17,,,,17,,,,],[2,,19,,,,,,,,,,,,,,,,,,,,,,,,19,,,,19,,,,19,,,,,,,,,,19,,,,19,,,,,,,,,,19,,,,19,,,,],[2,,26,,,,24,,,,,,,,,,,,,,,,,,,,27,,,,27,,,,26,,,,24,,,,22,,,,24,,,,22,,,,,,,,21,,,,,,,,]]],[4,5,6,7,0,1,2,3],120]),zzfxP(...a).loop=!0,1==storageData.muted&&(zzfxV=musicVolume=0,music.suspend()));null!=music&&zzfx(...[.2,,56,.04,.03,.01,,1.39,96.9,.2,-114,.16,,,,.1,,.73,.02,.08]);storageData.g+=1;localStorage.setItem(gameSaveDataName,JSON.stringify(storageData));
mouseY<h/2?document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen():(0==storageData.muted?(zzfxV=musicVolume=0,storageData.muted=!0,music.suspend()):(zzfxV=musicVolume=.2,storageData.muted=!1,music.resume()),localStorage.setItem(gameSaveDataName,JSON.stringify(storageData)))}function S(a){a=Q(a);mouseX=a.x;mouseY=a.y}this.onmousedown=P;this.onmouseup=R;this.onmousemove=S;
this.addEventListener("touchstart",function(a){a.preventDefault();1<a.touches.length||P(a.changedTouches[0])},{passive:!1});this.addEventListener("touchend",function(a){a.preventDefault();1<a.touches.length||R(a.changedTouches[0])},{passive:!1});this.addEventListener("touchmove",function(a){a.preventDefault();1<a.touches.length||S(a.changedTouches[0])},{passive:!1});
function Q(a){var b=c.getBoundingClientRect();return{x:(a.clientX-b.left)/(b.right-b.left)*w,y:(a.clientY-b.top)/(b.bottom-b.top)*h}}gameSaveDataName="gamePrefix_storageData";storageData=JSON.parse(localStorage.getItem(gameSaveDataName))||{g:0,muted:!1};console.log(storageData);this.addEventListener("focus",function(){null!=music&&0==storageData.muted&&music.resume()},!1);this.addEventListener("blur",function(){null!=music&&music.suspend()},!1);music=null;musicVolume=.2;zzfx=(...a)=>zzfxP(zzfxG(...a));
zzfxP=(...a)=>{let b=zzfxX.createBufferSource(),n=zzfxX.createBuffer(a.length,a[0].length,zzfxR);a.map((k,p)=>n.getChannelData(p).set(k));b.buffer=n;b.connect(zzfxX.destination);b.start();return b};
zzfxG=(a=1,b=.05,n=220,k=0,p=0,q=.1,u=0,B=1,g=0,x=0,l=0,C=0,r=0,D=0,y=0,F=0,e=0,G=1,z=0,H=0)=>{let f=2*Math.PI,J=g*=500*f/zzfxR**2,K=(0<y?1:-1)*f/4;b=n*=(1+2*b*Math.random()-b)*f/zzfxR;let E=[],m=0,L=0,d=0,t=1,O=0,T=0,A=0,M,I;k=99+zzfxR*k;z*=zzfxR;p*=zzfxR;q*=zzfxR;e*=zzfxR;x*=500*f/zzfxR**3;y*=f/zzfxR;l*=f/zzfxR;C*=zzfxR;r=zzfxR*r|0;for(I=k+z+p+q+e|0;d<I;E[d++]=A)++T%(100*F|0)||(A=u?1<u?2<u?3<u?Math.sin((m%f)**3):Math.max(Math.min(Math.tan(m),1),-1):1-(2*m/f%2+2)%2:1-4*Math.abs(Math.round(m/f)-m/
f):Math.sin(m),A=(r?1-H+H*Math.sin(2*Math.PI*d/r):1)*(0<A?1:-1)*Math.abs(A)**B*a*zzfxV*(d<k?d/k:d<k+z?1-(d-k)/z*(1-G):d<k+z+p?G:d<I-e?(I-d-e)/q*G:0),A=e?A/2+(e>d?0:(d<I-e?1:(I-d)/e)*E[d-e|0]/2):A),M=(n+=g+=x)*Math.sin(L*y-K),m+=M-M*D*(1-1E9*(Math.sin(d)+1)%2),L+=M-M*D*(1-1E9*(Math.sin(d)**2+1)%2),t&&++t>C&&(n+=l,b+=l,t=0),!r||++O%r||(n=b,g=J,t=t||1);return E};zzfxV=musicVolume;zzfxR=44100;
zzfxM=(a,b,n,k=125)=>{let p,q,u,B,g,x,l,C,r,D,y,F,e,G=0,z,H=[],f=[],J=[],K=0,E=0,m=1,L={},d=zzfxR/k*60>>2;for(;m;K++)H=[m=C=F=0],n.map((t,O)=>{l=b[t][K]||[0,0,0];m|=!!b[t][K];z=F+(b[t][0].length-2-!C)*d;e=O==n.length-1;q=2;for(B=F;q<l.length+e;C=++q){g=l[q];r=q==l.length+e-1&&e||D!=(l[0]||0)|g|0;for(u=0;u<d&&C;u++>d-99&&r?y+=(1>y)/99:0)x=(1-y)*H[G++]/2||0,f[B]=(f[B]||0)-x*E+x,J[B]=(J[B++]||0)+x*E+x;g&&(y=g%1,E=l[1]||0,g|=0)&&(H=L[[D=l[G=0]||0,g]]=L[[D,g]]||(p=[...a[D]],p[2]*=2**((g-12)/12),0<g?zzfxG(...p):
[]))}F=z});return[f,J]};
